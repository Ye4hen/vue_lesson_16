"use strict";(self["webpackChunkhomework_store_1"]=self["webpackChunkhomework_store_1"]||[]).push([[648],{653:function(s,e,t){t.r(e),t.d(e,{default:function(){return H}});var i=t(3396);function n(s,e,t,n,l,a){const r=(0,i.up)("assignments-list"),m=(0,i.up)("assignments-selector"),o=(0,i.up)("main-master-page");return(0,i.wg)(),(0,i.j4)(o,{class:"container"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{title:"Призначення"}),(0,i.Wm)(m,{title:"Нове призначення"})])),_:1})}var l=t(750),a=t(7139);const r={key:0,class:"assignments__title title"},m={class:"assignments__content"},o={key:0,class:"assignments__list-header"},g=(0,i._)("h6",{class:"small-title"},"Шофер",-1),d=(0,i._)("h6",{class:"small-title"},"Автобус",-1),c={class:"assignments__list"},u={class:"item-assignments__info"},_={class:"small-title"},v={class:"small-title"},w={class:"item-assignments__action"},p=["onClick"];function h(s,e,t,n,l,h){const k=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.getFilledAssignmentsList.length?((0,i.wg)(),(0,i.iD)("h2",r,(0,a.zw)(t.title),1)):(0,i.kq)("",!0),(0,i._)("div",m,[s.getFilledAssignmentsList.length?((0,i.wg)(),(0,i.iD)("div",o,[g,(0,i.Uk)(" --- "),d])):(0,i.kq)("",!0),(0,i._)("ul",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.getFilledAssignmentsList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id,class:"assignments__item item-assignments"},[(0,i._)("div",u,[(0,i._)("h5",_,(0,a.zw)(e.driverName),1),(0,i._)("h5",v,(0,a.zw)(e.busNumber),1)]),(0,i._)("div",w,[(0,i._)("button",{class:"item-assignments__button",onClick:t=>s.deleteAssignment(e.id)},[(0,i.Wm)(k,{icon:["far","trash-can"]})],8,p)])])))),128))])])],64)}var k=t(65),b={name:"AssignmentsList",props:{title:{type:String,required:!0}},computed:{...(0,k.Se)("assignments",["getAssignmentsList","getFilledAssignmentsList"])},created(){this.loadAssignmentsList()},methods:{...(0,k.nv)("assignments",["deleteAssignment","loadAssignmentsList"])}},A=t(89);const L=(0,A.Z)(b,[["render",h]]);var f=L;const D={key:0},S={key:1},y={class:"assignments-selector"},M={class:"assignments-selector__title title"},W={class:"assignments-selector__selectors"},V={class:"assignments-selector__item item-selector"},q={class:"assignments-selector__item item-selector"},z={key:0,class:"err-msg"};function C(s,e,t,n,l,r){const m=(0,i.up)("v-list-item"),o=(0,i.up)("v-select"),g=(0,i.up)("v-btn");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.isLoading?((0,i.wg)(),(0,i.iD)("div",D,"Loading ....")):s.hasError?((0,i.wg)(),(0,i.iD)("div",S,"Error")):(0,i.kq)("",!0),(0,i._)("div",y,[(0,i._)("h3",M,(0,a.zw)(t.title),1),(0,i._)("div",W,[(0,i._)("div",V,[(0,i.Wm)(o,{modelValue:l.assignment.driverId,"onUpdate:modelValue":e[0]||(e[0]=s=>l.assignment.driverId=s),label:"Шофер",items:s.getDriversList,"item-title":"name","item-value":"id"},{item:(0,i.w5)((({props:s,item:e})=>[(0,i.Wm)(m,(0,i.dG)(s,{subtitle:e.raw.experience,value:e.raw.id}),null,16,["subtitle","value"])])),_:1},8,["modelValue","items"])]),(0,i._)("div",q,[(0,i.Wm)(o,{modelValue:l.assignment.busId,"onUpdate:modelValue":e[1]||(e[1]=s=>l.assignment.busId=s),label:"Автобус",items:s.getBusesList,"item-title":"number","item-value":"id"},{item:(0,i.w5)((({props:s,item:e})=>[(0,i.Wm)(m,(0,i.dG)(s,{subtitle:e.raw.placesAmount,value:e.raw.id}),null,16,["subtitle","value"])])),_:1},8,["modelValue","items"])])]),s.errorMessage?((0,i.wg)(),(0,i.iD)("div",z,(0,a.zw)(s.errorMessage),1)):(0,i.kq)("",!0),(0,i.Wm)(g,{class:"assignments-selector__button",elevation:"8",size:"large",rounded:"lg",onClick:r.onAdd},{default:(0,i.w5)((()=>[(0,i.Uk)("Додати призначення")])),_:1},8,["onClick"])])],64)}var E={name:"AssignmentsSelector",data(){return{assignment:{}}},props:{title:{type:String,required:!0}},computed:{...(0,k.Se)("drivers",["getDriversList"]),...(0,k.Se)("buses",["getBusesList"]),...(0,k.Se)("assignments",["isLoading","hasError"]),...(0,k.Se)(["errorMessage"])},methods:{...(0,k.nv)("assignments",["addAssignment"]),...(0,k.nv)(["setErrorMessage"]),onAdd(){this.assignment.busId&&this.assignment.driverId?(this.addAssignment(this.assignment),this.assignment={},this.setErrorMessage(null)):this.setErrorMessage("Виберіть водія та автобус")}}};const I=(0,A.Z)(E,[["render",C]]);var F=I,U={name:"AssignmentsView",components:{MainMasterPage:l.Z,AssignmentsList:f,AssignmentsSelector:F}};const Z=(0,A.Z)(U,[["render",n]]);var H=Z}}]);
//# sourceMappingURL=assignments.7b941a85.js.map