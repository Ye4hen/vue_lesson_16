"use strict";(self["webpackChunkhomework_store_1"]=self["webpackChunkhomework_store_1"]||[]).push([[213],{3399:function(e,r,i){i.r(r),i.d(r,{default:function(){return w}});var t=i(3396),s=i(7139);const d={class:"editor"},o={key:0},a={key:1},n={class:"container"},l={class:"driver-editor__item editor-item"},v={class:"driver-editor__item editor-item"},u={class:"editor-actions"},c={key:0,class:"err-msg"};function h(e,r,i,h,m,g){const p=(0,t.up)("v-text-field"),k=(0,t.up)("v-btn"),w=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",d,[e.isLoading?((0,t.wg)(),(0,t.iD)("div",o,"Loading ....")):e.hasError?((0,t.wg)(),(0,t.iD)("div",a,"Error")):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("div",n,[(0,t._)("div",l,[(0,t.Wm)(p,{modelValue:m.driver.name,"onUpdate:modelValue":r[0]||(r[0]=e=>m.driver.name=e),label:"ПІБ","hide-details":"auto",onKeydown:g.isNameValid},null,8,["modelValue","onKeydown"])]),(0,t._)("div",v,[(0,t.Wm)(p,{modelValue:m.driver.experience,"onUpdate:modelValue":r[1]||(r[1]=e=>m.driver.experience=e),label:"Стаж","hide-details":"auto",type:"number"},null,8,["modelValue"])]),(0,t._)("div",u,[(0,t.Wm)(k,{class:"list-button",elevation:"8",onClick:g.onAction},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(g.buttonActionTitle),1)])),_:1},8,["onClick"]),(0,t.Wm)(w,{to:{name:"drivers"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"list-button",elevation:"8"},{default:(0,t.w5)((()=>[(0,t.Uk)("Відмінити")])),_:1})])),_:1})])]),e.errorMessage?((0,t.wg)(),(0,t.iD)("div",c,(0,s.zw)(e.errorMessage),1)):(0,t.kq)("",!0)],64))])}i(560);var m=i(65),g={name:"DriverEditor",data(){return{driver:{}}},computed:{...(0,m.Se)(["errorMessage"]),...(0,m.Se)("drivers",["getDriverById","isLoading","hasError"]),driverId(){return this.$route.params.driverId},buttonActionTitle(){return this.driverId?"Зберегти":"Додати"}},created(){this.loadDriversList(),this.driver={...this.getDriverById(this.driverId)},console.log(this.driver),this.setErrorMessage(null)},methods:{...(0,m.nv)(["setErrorMessage"]),...(0,m.nv)("drivers",["updateDriver","addDriver","loadDriversList"]),isNameValid(e){const r=e.keyCode||e.which;r>=48&&r<=57&&e.preventDefault()},onAction(){this.driver.name&&this.driver.experience?(this.setErrorMessage(null),this.driverId?this.updateDriver({itemId:this.driver.id,data:this.driver}):this.addDriver(this.driver),this.$router.push({name:"drivers"})):this.setErrorMessage("Заповнення обох полів є обов'язковим")}}},p=i(89);const k=(0,p.Z)(g,[["render",h]]);var w=k}}]);
//# sourceMappingURL=driver.c42c5272.js.map