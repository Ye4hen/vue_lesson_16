"use strict";(self["webpackChunkhomework_store_1"]=self["webpackChunkhomework_store_1"]||[]).push([[255],{8933:function(e,s,t){t.r(s),t.d(s,{default:function(){return k}});var u=t(3396),i=t(7139);const r={class:"editor"},o={key:0},a={key:1},l={class:"container"},d={class:"bus-editor__item editor-item"},n={class:"bus-editor__item editor-item"},b={class:"editor-actions"},c={key:0,class:"err-msg"};function m(e,s,t,m,h,g){const p=(0,u.up)("v-text-field"),v=(0,u.up)("v-btn"),k=(0,u.up)("router-link");return(0,u.wg)(),(0,u.iD)("div",r,[e.isLoading?((0,u.wg)(),(0,u.iD)("div",o,"Loading ....")):e.hasError?((0,u.wg)(),(0,u.iD)("div",a,"Error")):((0,u.wg)(),(0,u.iD)(u.HY,{key:2},[(0,u._)("div",l,[(0,u._)("div",d,[(0,u.Wm)(p,{modelValue:h.bus.number,"onUpdate:modelValue":s[0]||(s[0]=e=>h.bus.number=e),label:"Номер",rules:e.rules,"hide-details":"auto"},null,8,["modelValue","rules"])]),(0,u._)("div",n,[(0,u.Wm)(p,{modelValue:h.bus.placesAmount,"onUpdate:modelValue":s[1]||(s[1]=e=>h.bus.placesAmount=e),label:"Кількість місць",rules:e.rules,"hide-details":"auto",type:"number"},null,8,["modelValue","rules"])]),(0,u._)("div",b,[(0,u.Wm)(v,{class:"list-button",elevation:"8",onClick:g.onAction},{default:(0,u.w5)((()=>[(0,u.Uk)((0,i.zw)(g.buttonActionTitle),1)])),_:1},8,["onClick"]),(0,u.Wm)(k,{to:{name:"buses"}},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{class:"list-button",elevation:"8"},{default:(0,u.w5)((()=>[(0,u.Uk)("Відмінити")])),_:1})])),_:1})])]),e.errorMessage?((0,u.wg)(),(0,u.iD)("div",c,(0,i.zw)(e.errorMessage),1)):(0,u.kq)("",!0)],64))])}t(560);var h=t(65),g={name:"BusesEditor",data(){return{bus:{}}},computed:{...(0,h.Se)(["errorMessage"]),...(0,h.Se)("buses",["getBusById","isLoading","hasError"]),busId(){return this.$route.params.busId},buttonActionTitle(){return this.busId?"Зберегти":"Додати"}},created(){this.loadBusesList(),this.bus={...this.getBusById(this.busId)},console.log(this.bus),this.setErrorMessage(null)},methods:{...(0,h.nv)(["setErrorMessage"]),...(0,h.nv)("buses",["updateBus","addBus","loadBusesList"]),isNameValid(e){const s=e.keyCode||e.which;s>=48&&s<=57&&e.preventDefault()},onAction(){this.bus.number&&this.bus.placesAmount?(this.setErrorMessage(null),this.busId?this.updateBus({itemId:this.bus.id,data:this.bus}):this.addBus(this.bus),this.$router.push({name:"buses"})):this.setErrorMessage("Заповнення обох полів є обов'язковим")}}},p=t(89);const v=(0,p.Z)(g,[["render",m]]);var k=v}}]);
//# sourceMappingURL=bus.4604080a.js.map